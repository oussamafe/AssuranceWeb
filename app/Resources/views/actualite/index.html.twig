{% extends 'baseAdmin.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('back/assets/vendors/custom/datatables/datatables.bundle.css') }}" rel="stylesheet"
          type="text/css"/>

{% endblock %}
{% block supcontent %}
    <div class="kt-subheader   kt-grid__item" id="kt_subheader">
        <div class="kt-subheader__main">
            <h3 class="kt-subheader__title">
                Actualités </h3>
            <span class="kt-subheader__separator kt-hidden"></span>
            <div class="kt-subheader__breadcrumbs">
                <a class="kt-subheader__breadcrumbs-home"><i class="flaticon2-shelter"></i></a>
                <span class="kt-subheader__breadcrumbs-separator"></span>
                <a class="kt-subheader__breadcrumbs-link">
                    Index </a>
            </div>
        </div>
    </div>
{% endblock %}
{% block content %}
    <div class="kt-portlet kt-portlet--last kt-portlet--head-lg kt-portlet--responsive-mobile" id="kt_page_portlet">
        <div class="kt-portlet__head kt-portlet__head--lg" style="">
            <div class="kt-portlet__head-label">
                <h3 class="kt-portlet__head-title">Liste Des Actualité
                </h3>
            </div>
            <div class="kt-portlet__head-toolbar">
                <div class="btn-group">
                    <button type="button" class="btn btn-brand"
                            onclick="location.href='{{ path('admin_actualite_new') }}' ">
                        <i class="la la-plus"></i>
                        <span class="kt-hidden-mobile">Ajouter une Actualité</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="kt-portlet__body">

            <table class="table table-striped- table-bordered table-hover table-checkable" id="kt_table_2">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Titre</th>
                    <th>Date Publication</th>
                    <th>Description</th>
                    <th>Nombre De Vues</th>
                    <th>Article à la Une</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for actualite in actualites %}
                    <tr>
                        <td><a href="{{ path('admin_actualite_show', { 'id': actualite.id }) }}">{{ actualite.id }}</a>
                        </td>
                        <td>{{ actualite.titre }}</td>
                        <td>{% if actualite.datePublication %}{{ actualite.datePublication|date('Y-m-d') }}{% endif %}</td>
                        <td>{{ actualite.description|length > 50 ? actualite.description|slice(0, 50) ~ '  ...' : actualite.description }}</td>
                        <td>
                            {% if actualite.views > 20 %}
                                <span class="kt-badge kt-badge--danger kt-badge--inline kt-badge--pill kt-badge--rounded">{{ actualite.views }} <i class="la la-fire"></i></span>
                            {% elseif actualite.views > 10 %}
                                <span class="kt-badge kt-badge--warning kt-badge--inline kt-badge--pill kt-badge--rounded">{{ actualite.views }}</span>
                            {% elseif actualite.views > 5 %}
                                <span class="kt-badge kt-badge--info kt-badge--inline kt-badge--pill kt-badge--rounded">{{ actualite.views }}</span>
                            {% elseif actualite.views == 1 %}
                                <span class="kt-badge kt-badge--success kt-badge--inline kt-badge--pill kt-badge--rounded">{{ actualite.views }}</span>
                                {% else %}
                                    <span class="kt-badge kt-badge--success kt-badge--inline kt-badge--pill kt-badge--rounded">{{ actualite.views }}</span>
                            {% endif %}
                        </td>
                        <td>
                            {% if actualite.front == 1 %}
                                <i class="la la-check"></i>
                            {% else %}
                                <i class="la la-ban"></i>
                            {% endif %}
                        </td>
                        <td>
                            <span class="dropdown">
                                    <a href="#" class="btn btn-sm btn-clean btn-icon btn-icon-md" data-toggle="dropdown"
                                       aria-expanded="true">
                                      <i class="la la-ellipsis-h"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item"
                                           href="{{ path('admin_actualite_edit', { 'id': actualite.id }) }}"><i
                                                    class="la la-edit"></i>Modifier</a>
                                    </div>
                            </span>
                            <a class="btn btn-sm btn-clean btn-icon btn-icon-md"
                               href="{{ path('admin_actualite_edit', { 'id': actualite.id }) }}"><i
                                        class="la la-edit" title="Modifer"></i></a>
                            <a href="{{ path('admin_actualite_show', { 'id': actualite.id }) }}"
                               class="btn btn-sm btn-clean btn-icon btn-icon-md" title="Afficher">
                                <i class="la la-eye"></i>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('back/assets/vendors/custom/datatables/datatables.bundle.js') }}"
            type="text/javascript"></script>
    <script>
        $(document).ready(function () {
            $('#kt_table_2').DataTable();
        });
    </script>
{% endblock %}