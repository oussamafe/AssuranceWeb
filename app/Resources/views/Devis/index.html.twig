{% extends 'base.html.twig' %}
{% block content %}

<script src="{{ asset('jQuery/jquery-3.3.1.js') }}"></script>
<div id="div" style="margin-top: 150px; margin-left: 50px; margin-right: 50px">
<h1>Devis List</h1>
    <div class="text-center" >
        <select style="width: 150px" class="custom-select" id="et">
            <option value="Choose">Choix</option>
            <option value="All">All</option>
            <option value="periode qui depasse 10 jours">periode qui depasse 10 jours</option>

        </select>
<div class="container">
    <nav class="navbar navbar-inverse">

        <div class="container-fluid" >

            <div class="collapse navbar-collapse " id="bs-example-navbar-collaspe-2">
            </div>
        </div>
    </nav>
</div>
<a href="{{ path('_CreateD') }}" class ="btn btn-primary btn-xs">Create Devis</a>
<table class="table table-hover">
    <thead>
    <tr>


        <th scope="etat">champ1</th>
        <th scope="type">champ2 </th>
        <th scope="reponse">champ3</th>
        <th scope="action">champ4</th>
        <th scope="action">critere1</th>
        <th scope="action">critere2</th>
        <th scope="action">critere3</th>
        <th scope="action">critere4</th>
        <th scope="action">total</th>


    </tr>
    </thead>
    <tbody>
    {% for d in posts %}
        <tr class="table-active">


            <td>{{ d.champ1 }}</td>
            <td>{{ d.champ2 }}</td>
            <td>{{ d.champ3 }}</td>
            <td>{{ d.champ4 }}</td>
            <td>{{ d.critere1}}</td>
            <td>{{ d.critere2}}</td>
            <td>{{ d.critere3 }}</td>
            <td>{{ d.critere4 }}</td>
            <td>{{ d.total }}</td>



            <td>
                <a href="{{ path('_ViewD',{ 'id': d.id }) }}" class ="btn btn-primary btn-xs">View</a>
                <a href="{{ path('_UpdateD',{ 'id': d.id }) }}" class ="btn btn-success btn-xs">Edit</a>
                <a href="{{ path('_DeleteD',{ 'id': d.id }) }}" class ="btn btn-danger btn-xs">Delete</a>
            </td>

        </tr>
    {% else %}
        <tr>
            <td>text</td>
        </tr>
    {% endfor %}

    </tbody>
</table>
    </div>

    <script>
    $(function(){
    $("#et").change(function(){

    var nom=$('#et option:selected').val();

        if(nom.match('periode qui depasse 10 jours'))
        {
    $.ajax(
    {
    url:"{{ path('_Tri') }}",
    type:'POST',
    success:function (reponse) {
    $("#div").html(reponse)

    }

    }
    )}

        if(nom.match('All'))
        {
            $.ajax(
                {
                    url:"{{ path('_ShowR') }}",
                    type:'POST',
                    success:function (reponse) {
                        $("#div").html(reponse)

                    }

                }
            )
        }
    });

    });
    </script>

{% endblock %}